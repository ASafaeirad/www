---
import type { GetStaticPaths } from "astro";
import Layout from "@/layouts/layout.astro";
import Container from "@/components/container.astro";
import Hero from "@/components/hero.astro";
import { concepts } from "@/data/concepts";
import List from "@/components/list.astro";
import Concepts from "@/components/concepts/concepts.astro";
import Footer from "@/components/footer.astro";

export const getStaticPaths = (() => {
  return concepts.map((category) => ({
    params: { category: category.slug },
    props: { category },
  }));
}) satisfies GetStaticPaths;

const { category } = Astro.props;
---

<Layout>
  <Container>
    <Hero
      title={category.title}
      description={`${category.concepts.length} concept${category.concepts.length !== 1 ? "s" : ""}.`}
      backLabel="Concepts ðŸ“š"
      backUrl="/concepts"
    />
    <Concepts
      concepts={category.concepts.map((concept) => ({
        name: concept.name,
        url: `/concepts/${category.slug}/${concept.slug}`,
        resourceCount: concept.resources.length,
      }))}
    />
    <Footer />
  </Container>
</Layout>
